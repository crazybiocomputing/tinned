<!DOCTYPE html>
<html>
<head>
<meta charset="utf8">
<title>TINNED - Maths</title>
<link href="https://fonts.googleapis.com/css?family=Lato:700" rel="stylesheet"> 
<link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="../css/tinned.css">
<script type="module" src="../mol/components.js"></script>

</head>
<body>
<main>
</main>

<script type="module">

  'use strict';

  import {TINNED} from '../src/tinned.js';
  import {Board} from '../src/core/board.js';

  ////// MAIN //////

  let main = document.querySelector('main');

  // Init Board
  TINNED.init();
  
  // Create Board + Graph
  let board = new Board(main);

  // Load Graph
  let test = {
    nodes: [
      {
        id: 0,
        template:"MOL_OPEN_RASTER",
        metadata: {
          pos: [507,224]
        }
      },
      {
        id: 5,
        template:"MOL_MONITOR",
        metadata: {
          pos: [717,256],
        }
      },
      {
        id: 11,
        template:"MOL_NUMBER",
        metadata: {
          pos: [722,412],
        },
        state: {
          value: 46
        }
      },
      {
        id: 15,
        template:"MOL_MATHS",
        metadata: {
          pos: [939,288],
        },
      },
      {
        id: 22,
        template:"MOL_VIEW_2D",
        metadata: {
          pos: [1143,231],
        }
      }
    ],
    edges : [
      {
        eid: 1,
        sockets: ['raster@0','in_data@5'],
      },
      {
        eid: 2,
        sockets: ['out_data@5','value1@15'],
      },
      {
        eid: 3,
        sockets: ['value@11','value2@15'],
      },
      {
        eid: 4,
        sockets: ['value@15','raster2d@22'],
      }
    ]
  };

  board.load(test);
  board.run();


</script>
</body>
</html>