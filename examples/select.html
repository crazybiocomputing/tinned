<!DOCTYPE html>
<html>
<head>
<meta charset="utf8">
<title>TINNED - Select</title>
<link href="https://fonts.googleapis.com/css?family=Lato:700" rel="stylesheet"> 
<link rel="stylesheet" href="../css/font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../css/tinned.css">
<script type="module" src="../mol/components.js"></script>

</head>
<body>
<main>
</main>

<script type="module">

  'use strict';

  import {TINNED} from '../src/tinned.js';
  import {Board} from '../src/board.js';
  import {components} from '../components/mol/components.js';

  ////// MAIN //////

  let main = document.querySelector('main');

  // Init Board
  TINNED.init();
  
  // Create Board + Graph
  let board = new Board(main,components);

  // Load Graph
  let test = {
    nodes: [
    {
      id: 1,
      template:"MOL_OPEN",
      data: {
        meta: {
          pos: [315,282],
        },
        state: {}
      }
    },
    {
      id: 15,
      template:"MOL_PROPS",
      data: {
        meta: {
          pos: [538,170],
        },
        state: {
          prop: 5 // ???
        }
      }
    },
    {
      id: 16,
      template:"MOL_ID",
      data: {
        meta: {
          pos: [687,145],
        },
        state: {
          chainid: "B"
        }
      }
    },
    {
      id: 17,
      template:"MOL_SELECTED",
      data: {
        meta: {
          pos: [832,189],
        },
        state: {
          selected: 1
        }
      }
    },
    {
      id: 19,
      template:"MOL_RENDER",
      data: {
        meta: {
          pos: [986,212],
        },
        state: {
          mode: 0 // Trace
        }
      }
    },
    {
      id: 21,
      template:"MOL_COLORMODE",
      data: {
        meta: {
          pos: [1180,216],
        },
        state: {
          mode: 4 // CPK
        }
      }
    }
  ],
  edges : [
    {
      eid: 1,
      sockets: ['molout@1','molin@15'],
    },
    {
      eid: 2,
      sockets: ['molout@15','molin@16'],
    },
    {
      eid: 3,
      sockets: ['molout@16','molin@17'],
    },      
    {
      eid: 4,
      sockets: ['molout@17','molin@19'],
    },      
    {
      eid: 5,
      sockets: ['molout@19','molin@21'],
    }       
  ]
};

  board.load(test);
  board.run();


</script>
</body>
</html>