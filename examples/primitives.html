<!DOCTYPE html>
<html>
<head>
<meta charset="utf8">
<title>TINNED - Primitives</title>
<link href="https://fonts.googleapis.com/css?family=Lato:700" rel="stylesheet"> 
<link rel="stylesheet" href="../css/font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../css/tinned.css">
<script type="module" src="../components/mol/components.js"></script>

</head>
<body>
<main>
</main>

<script type="module">

  'use strict';

  import {TINNED} from '../src/tinned.js';
  import {Board} from '../src/board.js';
  import {components} from '../components/basics/components.js';

  ////// MAIN //////

  let main = document.querySelector('main');

  // Init Board
  TINNED.init();
  
  // Create Board + Graph
  let board = new Board(main,components);

  // Load Graph
  let test = {
    nodes: [
    {
        id: 1,
        template:"BASX_STRING",
        data: {
          meta: {
            pos: [9,170],
          },
          state: {
            value: 'Hello World!'
          }
        }
      },
      {
        id: 2,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [254,230],
          },
          state: {}
        }
      },
      {
        id: 3,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [265,69],
          },
          state: {}
        }
      },
      {
        id: 5,
        template:"BASX_ITERABLE",
        data: {
          meta: {
            pos: [509,170],
          },
          state: {
            code: '"Hello World!"'
          }
        }
      },
      {
        id: 6,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [754,230],
          },
          state: {}
        }
      },
      {
        id: 7,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [765,69],
          },
          state: {}
        }
      },
      {
        id: 10,
        template:"BASX_NUMBER",
        data: {
          meta: {
            pos: [1009,170],
          },
          state: {
            value: 1234
          }
        }
      },
      {
        id: 11,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [1254,230],
          },
          state: {}
        }
      },
      {
        id: 12,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [1265,69],
          },
          state: {}
        }
      },
      {
        id: 15,
        template:"BASX_ARRAY",
        data: {
          meta: {
            pos: [9,370],
          },
          state: {
          }
        }
      },
      {
        id: 16,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [254,530],
          },
          state: {}
        }
      },
      {
        id: 17,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [265,369],
          },
          state: {}
        }
      },
      {
        id: 20,
        template:"BASX_OBJECT",
        data: {
          meta: {
            pos: [509,370],
          },
          state: {
          }
        }
      },
      {
        id: 21,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [754,530],
          },
          state: {}
        }
      },
      {
        id: 22,
        template:"BASX_MONITOR",
        data: {
          meta: {
            pos: [765,369],
          },
          state: {}
        }
      }
    ],
    edges : [
      {
        eid: 1,
        sockets: ['value@1','datain@2']
      },
      {
        eid: 2,
        sockets: ['value@1','datain@3']
      },
      {
        eid: 3,
        sockets: ['value@5','datain@6']
      },
      {
        eid: 4,
        sockets: ['value@5','datain@7']
      },
      {
        eid: 5,
        sockets: ['value@10','datain@11']
      },
      {
        eid: 6,
        sockets: ['value@10','datain@12']
      },
      {
        eid: 7,
        sockets: ['value@15','datain@16']
      },
      {
        eid: 8,
        sockets: ['value@15','datain@17']
      },
      {
        eid: 9,
        sockets: ['value@20','datain@21']
      },
      {
        eid: 10,
        sockets: ['value@20','datain@22']
      }
    ]
  };

  board.load(test);
  board.run();


</script>
</body>
</html>